#pragma once

///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// INCLUDES /////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#include "AppFixture.hxx"

extern "C"
{
    #include "App.h"
    #include "Settings.h"
}

///////////////////////////////////////////////////////////////////////////////
/////////////////////////// MACROS/DEFINITIONS ////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

SHARE_APP
SHARE_SETTINGS

///////////////////////////////////////////////////////////////////////////////
/////////////////////////// CLASSES/STRUCTURES ////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

class NetworkCommunicationAfterOpenFixture : public AppFixture
{
    protected:
        void SetUp    () override { }
        void TearDown () override
        {
            gSettings.App.Motor.Position.Current                                = ZERO;
            gSettings.Communication.Tcms.Output.IsDeployedState                 = false;
            gSettings.Communication.Tcms.Output.IsDeploymentDefault             = false;
            gSettings.Communication.Tcms.Output.IsAccessNotGuaranteed           = false;
            gSettings.Communication.Tcms.Output.IsFailedToDeployBecauseObstacle = false;

            gApp.DetectObstaclesDuring.ObstaclesNum                             = ZERO;
        }
};

///////////////////////////////////////////////////////////////////////////////
/////////////////////////////// END OF FILE ///////////////////////////////////
///////////////////////////////////////////////////////////////////////////////